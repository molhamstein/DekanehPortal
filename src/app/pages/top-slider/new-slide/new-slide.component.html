<form class="slideForm" [formGroup]="SlideForm" (ngSubmit)="onSlideFormSubmit()">
  <div class="container">
    <div class="row">
      <div class="col-sm">

      </div>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group">
          <div class="form-group">
            <label for="type">{{"slide.type"|translate}}</label>
            <select class="form-control" formControlName="type" id="type" (change)="changeTarget()" [(ngModel)]="slide.type">
              <option *ngFor="let option of types" [value]="option">
                {{"slide.types."+option|translate}}
              </option>
            </select>
          </div>
          <div *ngIf="slide.type=='external'" class="form-group">
          <label  for="image">{{"slide.form.controls.image"|translate}}</label>
          <input type="text" formControlName="target" class="form-control" id="image" placeholder="{{'slide.form.placeholders.image'|translate}}" [(ngModel)]="slide.target">
          <label *ngIf="SlideForm.get('target').invalid&&processValidation " class="text-danger">{{'slide.form.validations.image'|translate}}</label>
          </div>
          <!--<label *ngIf="nameError" [ngClass] = "'text-danger'">{{'slide.form.errors.image'|translate}}</label>-->
        </div>
        <div *ngIf="slide.type=='product'" class="form-group">
          <label for="target">{{"slide.form.controls.product"|translate}}</label>
          <ng-select id="target" (filterInputChanged)="searchProducts($event)" [options]="IOproducts" [multiple]="false" formControlName="target" (selected)="productSelected($event)" [(ngModel)]="slide.target">
          </ng-select>
          <label *ngIf="SlideForm.get('target').invalid&&processValidation " class="text-danger">{{'slide.form.validations.product'|translate}}</label>

        </div>

        <div class="form-group">
          <label for="status">{{"client.statustext"|translate}}</label>
          <select class="form-control" formControlName="status" id="status" [(ngModel)]="slide.status">
            <option *ngFor="let option of statusEnum" [value]="option">
              {{"client.status."+option|translate}}
            </option>
          </select>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="col-sm-offset-3 img-uploader">
          <div id="preview">
            <img [src]="imgSrc" alt="">
          </div>
          <input style="display: none" type="file" (change)="onFileChanged($event)" #fileInput>
          <button type="button" class="select-file btn btn-success" (click)="fileInput.click()">
            {{'product.addImg'|translate}}
          </button>
          <br>
          <label *ngIf="imgBlankError" class="text-danger">{{'product.form.validations.imgBlank'|translate}}</label>

        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm submit-col">
        <button type="submit" *ngIf="newSlide" class="btn btn-success">{{"staff.buttons.add"|translate}}</button>
        <i *ngIf="!SlideForm.invalid&&submitted" class="fa fa-circle-o-notch fa-2x fa-spin spinner-submit" ></i>
        <button type="submit" [disabled]="submitted" class=" btn btn-success" *ngIf="!newSlide">{{"staff.buttons.edit"|translate}}</button>
        <button type="button" (click)="goHome()" [disabled]="submitted" class="btn btn-action" *ngIf="!newSlide">{{"staff.buttons.back"|translate}}</button>
      </div>
    </div>
  </div>
</form>
